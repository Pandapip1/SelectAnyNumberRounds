# Automatically generates an artifact, which is a zip file containing the icon.png, the manifest.json, the LICENSE.md, and the README.md files. The artifact is uploaded to the GitHub Actions artifacts page.
name: Generate Package
on:
  push:
    branches:
      - main

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Setup .NET Core SDK
            uses: actions/setup-dotnet@v3
            with:
                dotnet-version: 7.0.104
          - name: Build Dotnet
            run: dotnet build --configuration Release
          - name: Copy File to BepInEx Folder
            run: |
                mkdir -p BepInEx/plugins
                cp -r bin/Release/netstandard2.0/PickAnyNumber.dll BepInEx/plugins
          - name: Upload Artifact
            uses: actions/upload-artifact@v3
            with:
                name: package
                path: |
                    icon.png
                    manifest.json
                    LICENSE.md
                    README.md
                    BepInEx
